<!DOCTYPE html>
<html>
<head>
  <title>COVID-19 Around the World (2020-2022)</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="./style.css">
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div class="container">

    <!-- create a div for title and subtitle should be centre aligned -->
    <div class="title">
      <h1>COVID-19 Around the World (2020-2022)</h1>
      <h2>FIT3179 Assignment 2 - Huan Chang Lee</h2>
    </div>

    <div class="map visualizations">
      <div id="map"></div>
      <p class="description">The choropleth map above shows the accumulative deaths of people due to the COVID-19 virus around the world from the year 2020-2022. The country that has the darker shade of red indicates the most deaths caused by the covid-19 and vice versa.</p>
    </div>

    <div class="bubble-plot visualizations">
      <div id="bubble_plot"></div>
      <p class="description">This bubble graph illustrates the correlation between the total cases, total deaths and new cases of COVID-19 weekly. The size of the bubble represents the total number of deaths in each country. Thereâ€™s a filter button below to show only the respective regions of each country. 
        The country legends can be scrolled down for further clarification.
        </p>
    </div>

    <div class="visualizations">
        <!-- rowwise is a wrapper to align the two bar plots rowwise/horizontally -->
      <div class="rowwise">
        <div class="bar-plot">
            <div id="bar_plot"></div>
        </div>
        <div class="bar-plot-horizontal">
            <div id="bar_plot_horizontal"></div>
        </div>
      </div>
      <p class="description">According to the vertical bar graphs that represent the total deaths per hundred 100k people in each region, Europe shows the highest death among all the regions which correlates accurately to the rate of new cases of COVID-19 weekly in each region as shown in the horizontal graphs. However, the lowest number of total deaths per hundred 100k people in each region is in Southeast Asia, which does not correlate well with the rate of new cases of COVID-19 weekly in each region as Africa has the lowest rate of new cases instead.</p>
    </div>
  </div>

  <script>
    const embedVegaLite = (id, jsonFile) => {
      fetch(jsonFile)
        .then(response => response.json())
        .then(spec => {
          vegaEmbed(`#${id}`, spec);
        });
    };

    embedVegaLite('map', './Assignment_2/Maps_assignment2');
    embedVegaLite('bubble_plot', './Assignment_2/Bubble_Plot.vg.json');
    embedVegaLite('bar_plot', './Assignment_2/Bar_Chart.vg.json');
    embedVegaLite('bar_plot_horizontal', './Assignment_2/Bar_Chart_horizontal.vg.json');
  </script>
</body>
</html>
